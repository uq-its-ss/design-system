import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";
import StatusBadge from "../../../.storybook/custom/components/StatusBadge";

# Site header

<StatusBadge.Stable />
<StatusBadge.StableDoc />

<a
  href="https://github.com/uq-its-ss/design-system/issues"
  class="uq-button uq-button--text"
  target="_blank"
>
  Check for open issues
</a>

## Overview

The site header component is comprised of the site title, the site navigation, and an optional site utility section. It collapses down to a conventional open/close menu button on smaller devices and is designed to work closely with the header component.

## Default

### Without sub-navigation

A site header with site title and a one-level site navigation.

<Canvas withSource="none" withToolbar>
  <Story height={200} id="components-site-header--site-header-without-subnav" />
</Canvas>

```html
<div class="uq-site-header">
  <!-- Site title with mobile nav toggler (JS) -->
  <div class="uq-site-header__title-container">
    <div class="uq-site-header__title-container__left">
      <a href="/" class="uq-site-header__title">Site title</a>
    </div>
    <div class="uq-site-header__title-container__right">
      <button class="uq-site-header__navigation-toggle jsNavToggle">Menu</button>
    </div>
  </div>

  <!-- Navigation menu  -->
  <div class="uq-site-header__navigation-container">
    <nav class="uq-site-header__navigation" aria-label="Site navigation"  id="jsNav">
      <ul class="uq-site-header__navigation__list uq-site-header__navigation__list--level-1">
        <li class="uq-site-header__navigation__list-item">
          <a href="/">Navigation list item</a>
        </li>
        ...
    </nav>
  </div>
</div>
```

### With sub-navigation

A site header with a site title, a site utility, and a two-level site navigation.

<Canvas withSource="none" withToolbar>
  <Story height={505} id="components-site-header--site-header-with-subnav" />
</Canvas>

```html
<div class="uq-site-header">
  <!-- Site title and utility with mobile nav toggler (JS) -->
  <div class="uq-site-header__title-container">
    <div class="uq-site-header__title-container__left">
      <a href="/" class="uq-site-header__title">Site title</a>
    </div>
    <div class="uq-site-header__title-container__right">
      <div>[Site utilities go here]</div>
      <button class="uq-site-header__navigation-toggle jsNavToggle">
        Menu
      </button>
    </div>
  </div>

  <!-- Navigation menu  -->
  <div class="uq-site-header__navigation-container">
    <nav
      class="uq-site-header__navigation"
      aria-label="Site navigation"
      id="jsNav"
    >
      <ul
        class="uq-site-header__navigation__list uq-site-header__navigation__list--level-1"
      >
        <li
          class="uq-site-header__navigation__list-item uq-site-header__navigation__list-item--has-subnav uq-site-header__navigation__list-item--active"
        >
          <a href="/" aria-haspopup="true" aria-expanded="false"
            >Navigation list item</a
          >
          <button class="uq-site-header__navigation__sub-toggle">
            <span class="visually-hidden"
              >Show Navigation list item sub-navigation</span
            >
          </button>
          <ul
            class="uq-site-header__navigation__list uq-site-header__navigation__list--level-2"
            aria-label="Navigation list item sub-navigation"
          >
            <li class="uq-site-header__navigation__list-item">
              <a href="/">Sub-navigation list item</a>
            </li>
            ...
          </ul>
        </li>
        ...
      </ul>
    </nav>
  </div>
</div>
```

## Variants

### No site title

Displays a site header without a site title. This variant can be used with one-level or two-level site navigation.

```html
<div class="uq-site-header uq-site-header--no-site-title">
  <div class="uq-site-header__title-container">
    <div class="uq-site-header__title-container__right">
      <button class="uq-site-header__navigation-toggle jsNavToggle">
        Menu
      </button>
    </div>
  </div>
</div>
```

## How and when to use

### No site title

For special use when no site title is required, E.g. UQ Homepage.

### Site utility

The component includes a small space for secondary actions. This section is not intended for advertising or spam, but intended for discrete, site wide functionality.

**Examples include:**

- Future Students dropdown for domestic and international.
- UQ Maps, expand to fill whole screen
- UQ researchers shortlist

## Accessibility

Include an `aria-label` for the level one main navigation.

If you are using a site header with a level two sub-navigation, include an `aria-label` for the sub-navigation list and update the `visually-hidden` button label that toggles the sub-navigation. Also ensure the level one main navigation parent item for the sub-navigation includes an `aria-haspopup="true"` and `aria-expanded="false"`.

The JavaScript included with the site header handles the dynamic states for `aria-haspopup`, `aria-expanded`, and `aria-pressed` when interacting with the mobile navigation toggle, sub-navigation toggles, and sub-navigation lists.
