import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import StatusBadge from '../../../.storybook/custom/components/StatusBadge';

# UQ Maps: search combo menu
<StatusBadge.Development />

Enables the user to search for *and* browse points of interest and categories.
By design, the first child of this component root is the *search field*.

## Initial state

Visually, it looks identical to a *search field* by itself.

### Basic usage

<Canvas withSource="open" withToolbar>
  <Story height={100} id="deliverables-uq-maps-search-combo-menu--initial" />
</Canvas>

## On focus or selecting origin/destination

When the focus is on the search field, the search combo box expands to fill the
available height and width of its parent container—on mobile, this should be the
full screen. Meanwhile, the search field should not have changed position on the
screen at all. Some search suggestions should be provided before the user enters
any text.

### Basic usage

<Canvas withSource="open" withToolbar>
  <Story height={800} id="deliverables-uq-maps-search-combo-menu--focused" />
</Canvas>

<div class="alert alert--warning" role="alert">
  <div class="alert__message">
    Note: <strong>there's currently no reliable way to make the search field
    "sticky"</strong> (remain at the top even when scrolling)—with the first
    search result initially positioned relative to the search field's
    height—<strong>using CSS and HTML alone</strong>. Implement a JavaScript
    solution to this problem to improve the user experience. Watch this space
    for a working demo.
  </div>
</div>

## With search value

### Basic usage

<Canvas withSource="open" withToolbar>
  <Story height={800} id="deliverables-uq-maps-search-combo-menu--searching" />
</Canvas>

## With search value but no results

### Basic usage

<Canvas withSource="open" withToolbar>
  <Story height={155} id="deliverables-uq-maps-search-combo-menu--searching-no-results" />
</Canvas>

## With search value but with search error

### Basic usage

<Canvas withSource="open" withToolbar>
  <Story height={176} id="deliverables-uq-maps-search-combo-menu--searching-error" />
</Canvas>

## With search value AND category item opened

The search term is retained as is within the search field. Introduce a "view
all on map" clickable list item and category title above the actual category
list items.

### Basic usage

<Canvas withSource="open" withToolbar>
  <Story height={176} id="deliverables-uq-maps-search-combo-menu--searching-error" />
</Canvas>
