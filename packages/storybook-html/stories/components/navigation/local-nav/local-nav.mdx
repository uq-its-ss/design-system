import { Meta, Story, Canvas } from "@storybook/blocks";
import StatusBadge from "../../../../.storybook/custom/components/StatusBadge";
import * as LocalNavStories from "./local-nav.stories";

<Meta of={LocalNavStories} />

# Local nav

<StatusBadge.Development />
<StatusBadge.DraftDoc />

## Overview

The `.uq-local-nav` element provides local navigation for desktop.

<Canvas of={LocalNavStories.LocalNav} />

### How-to

#### Grandparents and Parents

A page can have multiple `.uq-local-nav__grandparent` elements,
but only one `.uq-local-nav__parent` element.

Use a `aria-label="Back to..."` attribute to help screen readers translate the
back chevron.

<Canvas>
  <nav className="uq-local-nav" aria-label="Local navigation">
    <div className="uq-local-nav__grandparent">
      <a className="uq-local-nav__link" href="#" aria-label="Back to UQ home">UQ home</a>
    </div>
    <div className="uq-local-nav__grandparent">
      <a className="uq-local-nav__link" href="#" aria-label="Back to Research">Research</a>
    </div>
    <div className="uq-local-nav__grandparent">
      <a
        className="uq-local-nav__link"
        href="#"
        aria-label="Back to Research capabilities and initiatives"
      >Research capabilities and initiatives</a>
    </div>
    <div className="uq-local-nav__parent">
      <a
        className="uq-local-nav__link"
        href="#"
        aria-label="Back to Energy network"
      >Energy network</a>
    </div>
  </nav>
</Canvas>

#### Children

After the Parent element, the `ul.uq-local-nav__children` element holds all `li.uq-local-nav__child` Child elements.

The current Child is marked with `.uq-local-nav--current-child`.

Child elements that have their own children are marked with `.uq-local-nav--has-children`.

The active link is marked with `.uq-local-nav--active-link` on the `a` element, and
for accessibility the active `a` element is also marked with `aria-current="page"`

<Canvas>
  <nav className="uq-local-nav" aria-label="Local navigation">
    <div className="uq-local-nav__grandparent">
      <a className="uq-local-nav__link" href="#" aria-label="Back to UQ home">UQ home</a>
    </div>
    <div className="uq-local-nav__parent">
      <a className="uq-local-nav__link" href="#" aria-label="Back to Research">Research</a>
    </div>
    <ul className="uq-local-nav__children">
      <li className="uq-local-nav__child uq-local-nav--current-child">
        <a
          className="uq-local-nav__link uq-local-nav--active-link"
          href="#"
          aria-current="page"
        >Research impact</a>
      </li>
      <li className="uq-local-nav__child uq-local-nav--has-children">
        <a className="uq-local-nav__link" href="#">Research capabilities and initiatives</a>
      </li>
      <li className="">
        <a className="uq-local-nav__link" href="#">Ethics and integrity</a>
      </li>
    </ul>
  </nav>
</Canvas>

#### Grandchildren

When a Child element that has children is the active link, it's children are shown
within the `ul.uq-local-nav__grandchildren` element.

The Grandchildren use a `li.uq-local-nav__grandchild` element.

<Canvas>
  <nav className="uq-local-nav" aria-label="Local navigation">
    <div className="uq-local-nav__grandparent">
      <a className="uq-local-nav__link" href="#" aria-label="Back to UQ home">UQ home</a>
    </div>
    <div className="uq-local-nav__parent">
      <a className="uq-local-nav__link" href="#" aria-label="Back to Research">Research</a>
    </div>
    <ul className="uq-local-nav__children">
      <li className="uq-local-nav__child">
        <a className="uq-local-nav__link" href="#">Research impact</a>
      </li>
      <li className="uq-local-nav__child uq-local-nav--has-children uq-local-nav--current-child">
        <a
          className="uq-local-nav__link uq-local-nav--active-link"
          href="#"
          aria-current="page"
        >Research capabilities and initiatives</a>
        <ul className="uq-local-nav__grandchildren">
          <li className="uq-local-nav__grandchild uq-local-nav--has-children">
            <a className="uq-local-nav__link" href="#">Energy network</a>
          </li>
          <li className="uq-local-nav__grandchild">
            <a className="uq-local-nav__link" href="#">Other networks</a>
          </li>
        </ul>
      </li>
      <li className="uq-local-nav__child">
        <a className="uq-local-nav__link" href="#">Ethics and integrity</a>
      </li>
    </ul>
  </nav>
</Canvas>

When a Grandchild becomes the active link, only its siblings and children are
shown and a new Parent and Grandparent element are added.

<Canvas>
  <nav className="uq-local-nav" aria-label="Local navigation">
    <div className="uq-local-nav__grandparent">
      <a className="uq-local-nav__link" href="#" aria-label="Back to UQ home">UQ home</a>
    </div>
    <div className="uq-local-nav__grandparent">
      <a className="uq-local-nav__link" href="#" aria-label="Back to Research">Research</a>
    </div>
    <div className="uq-local-nav__parent">
      <a
        className="uq-local-nav__link"
        href="#"
        aria-label="Back to Research capabilities and initiatives"
      >Research capabilities and initiatives</a>
    </div>
    <ul className="uq-local-nav__children">
      <li className="uq-local-nav__child uq-local-nav--has-children uq-local-nav--current-child">
        <a
          className="uq-local-nav__link uq-local-nav--active-link"
          href="#"
          aria-current="page"
        >Energy network</a>
        <ul className="uq-local-nav__grandchildren">
          <li className="uq-local-nav__grandchild uq-local-nav__child uq-local-nav--has-children">
            <a className="uq-local-nav__link" href="#">Partner with us</a>
          </li>
          <li className="uq-local-nav__grandchild uq-local-nav__child">
            <a className="uq-local-nav__link" href="#">Research</a>
          </li>
          <li className="uq-local-nav__grandchild uq-local-nav__child">
            <a className="uq-local-nav__link" href="#">Our people</a>
          </li>
        </ul>
      </li>
      <li className="uq-local-nav__child">
        <a className="uq-local-nav__link" href="#">Other networks</a>
      </li>
    </ul>
  </nav>
</Canvas>
