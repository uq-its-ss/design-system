import { Meta, Canvas, Controls } from "@storybook/addon-docs/blocks";
import StatusBadge from "../../../.storybook/custom/components/StatusBadge";
import * as TabsStories from "./tabs.stories";

<Meta of={TabsStories} />

# Tabs

<StatusBadge.Stable />
<StatusBadge.StableDoc />
<a href="https://github.com/uq-its-ss/design-system/issues" target="_blank">
  Check for open issues
</a>

## Overview

Tabs component are tabs that are aligned together which on interaction allow navigation between groups of content that are related and at the same
hierarchical level.

### Outline

<Canvas
  of={TabsStories.Outline}
  story={{
    autoplay: true,
  }}
/>

<Controls of={TabsStories.Outline} />

### Minimal

<Canvas
  of={TabsStories.Minimal}
  story={{
    autoplay: true,
  }}
/>

### Lined

<Canvas
  of={TabsStories.Lined}
  story={{
    autoplay: true,
  }}
/>

### With icon

<Canvas
  of={TabsStories.WithIcon}
  story={{
    autoplay: true,
  }}
/>

### Full width

<Canvas
  of={TabsStories.FullWidth}
  story={{
    autoplay: true,
  }}
/>

### Small

<Canvas
  of={TabsStories.Small}
  story={{
    autoplay: true,
  }}
/>

### Reversed

<Canvas
  of={TabsStories.Reversed}
  story={{
    autoplay: true,
  }}
/>

## How and when to use

- This tab example is automatically activated and its associated panel is displayed when the tab receives focus.
- Tabs should only be automatically activated in circumstances where panels can be displayed instantly, i.e., all panel content is present in the DOM.
- Tabs should appear as a single row above their associated content.
- Tab labels can include icons and text. And the tab label text should be short.
- Don’t use tabs for moving through sequential content that needs to be read in a particular order.
- Don’t mix tabs that contain only text, with tabs that contain only icons. Use either all text labels, all icon labels, or both, across all labels.
- Although label text can wrap to a second line, scrollable tabs confine text to a single row.
- Don’t resize text labels to fit them onto a single line.
- Don’t truncate labels unless required.

## Accessibility

- When the user tabs through the tabs, it receives focus and automatically opens its related tab panel.
- The WAI-ARIA roles used are `[role="tablist"]` for the tab list, `[role="tab"]` for the individual tab items and `[role="tabpanel"]` for the tab panels.
- Tab active state: `tabindex = "0"`, classname ` uq-tabs__tab--active` is added, `aria-selected = "true"`.
- Tab inactive state: `tabindex = "-1"`, classname ` uq-tabs__tab--active` is removed, `aria-selected = "false"`.
- Tab panel active state: `tabindex = "0"`, classname ` uq-tabs__tab-panel--active` is added, `hidden` is removed.
- Tab panel inactive state: `tabindex = "0"`, classname ` uq-tabs__tab-panel--active` is removed, `hidden` is added.
- Colour contrast test for the tabs showed a WCAG AA Pass.

## JavaScript reference

### Setup

Currently, we've only made available a ES module (`@uqds/tabs/src/js/tabs`).

### Class: Tabs

#### Create object

```javascript
import { Tabs } from "@uqds/tabs/src/js/tabs";

new Tabs([options]);
```

#### Parameters

| Name      | Type   | Attributes | Description                       |
| --------- | ------ | ---------- | --------------------------------- |
| `options` | Object | Optional   | Configuration object for the tabs |

#### `options` properties

| Name             | Type        | Attributes | Default                | Description                                                                                    |
| ---------------- | ----------- | ---------- | ---------------------- | ---------------------------------------------------------------------------------------------- |
| container        | HTMLElement | Optional   |                        | Optional container for tabs and panels. Useful for when you have multiple tab lists on a page. |
| tabListSelector  | String      | Optional   | `. uq-tabs__tab-list`  | Selector string of the tab lists.                                                              |
| tabSelector      | String      | Optional   | `. uq-tabs__tab`       | Selector string of the tabs.                                                                   |
| tabPanelSelector | String      | Optional   | `. uq-tabs__tab-panel` | Selector string of the tab panels.                                                             |
